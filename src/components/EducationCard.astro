---
import type { Education } from "@entities/education";
import { getFormattedDate } from "@utils/handleDates";
import { getLangFromUrl } from "@utils/i18n";

interface Props {
	education: Education;
}

const { education } = Astro.props;
const { institution, startDate, endDate, area } = education;

const lang = getLangFromUrl(Astro.url);
const localeCode = lang === "es" ? "es-ES" : "en-US";

const formattedStartDate = getFormattedDate(startDate, localeCode, {
	year: "numeric"
});
const formattedEndDate = getFormattedDate(
	endDate,
	localeCode,
	{ year: "numeric" },
	lang === "es" ? "Presente" : "Present"
);
---

<article>
	<header>
		<header class="flex justify-between gap-2">
			<div class="flex flex-col">
				<h3 class="text-lg font-semibold text-neutral-800">{institution}</h3>
			</div>
			<div class="text-right text-sm font-normal text-neutral-500">
				<time datetime={startDate + ""}>{formattedStartDate}</time>
				<span>-</span>
				<time datetime={endDate + ""}>{formattedEndDate}</time>
			</div>
		</header>
	</header>
	<main>
		<p class="text-sm">{area}</p>
	</main>
</article>
