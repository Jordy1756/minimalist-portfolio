---
import Layout from "@layouts/Layout.astro";
import Hero from "@sections/Hero.astro";
import About from "@sections/About.astro";
import Experience from "@sections/Experience.astro";
import Projects from "@sections/Projects.astro";
import Education from "@sections/Education.astro";
import Certificates from "@sections/Certificates.astro";
import Skills from "@sections/Skills.astro";
import { getLangFromUrl, useTranslations } from "@i18n/utils";

export const getStaticPaths = async () => [
	{ params: { locale: "en" } },
	{ params: { locale: "es" } }
];

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const resume = await import(`../../data/cv/${lang}.json`);
const { basics, experience, education, projects, certificates, skills } = resume;
---

<Layout title={`${""} - ${basics.label}`} locale={lang} basics={basics}>
	<Hero basics={basics} />
	<About about={basics} />
	<Experience experience={experience} />
	<Projects projects={projects} />
	<Education education={education} />
	<Certificates certificates={certificates} />
	<Skills skills={skills} />
</Layout>
